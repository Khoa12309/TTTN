@model List<DataTTTN.Models.Product_details>

@{
	ViewData["Title"] = "Cart";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
	<meta name="viewport" content="width=device-width" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<link href="~/wwwroot/css/cart.css" />
	<title>Cart</title>
	<title>Cart</title>
</head>
<body>
	<section class="h-100 gradient-custom">
		@using (Html.BeginForm("Cart", "Cart", new { FormMethod.Post }))
		{
			<div class="container py-5">
				<div class="row d-flex justify-content-center my-4">
					<div class="col-md-8">
						<div class="card mb-4">
							<div class="card-header py-3">
								<h5 class="mb-0">Cart - 2 items</h5>
							</div>
							<div class="card-body">
								@{
									foreach (var pro in ViewBag.Product)
									{
										List<Guid> a = new List<Guid>();

										for (int i = 0; i < Model.Count(); i++)
										{

											if (a.Exists(i => i == pro.Id))
											{
												continue;
											}



											if (pro.Id == Model[i].Id_Product)
											{
												a.Add(pro.Id);
														@Html.HiddenFor(m => m[i].Id_Product)
												foreach (var img in ViewBag.Img)
												{
													if (Model[i].Id == img.Id_Product_details)
													{
																<div class="row">
																	<div class="col-lg-3 col-md-12 mb-4 mb-lg-0">
																		<!-- Image -->
																		<div class="bg-image hover-overlay hover-zoom ripple rounded" data-mdb-ripple-color="light">
																			<img src="~/images/@img.Name" class="w-100" alt="Blue Jeans Jacket" />
																			<a href="#!">
																				<div class="mask" style="background-color: rgba(251, 251, 251, 0.2)"></div>
																			</a>
																		</div>
																		<!-- Image -->
																	</div>
																	<div class="col-lg-5 col-md-6 mb-4 mb-lg-0">
																		<!-- Data -->
																		<p><strong>@pro.Name</strong></p>

																		<div class="row">
																			<p>Color</p>

																			@foreach (var Color in ViewBag.Color)
																	{

																		if (Color.Id == Model[i].Id_Color)
																		{

																					<div class="col-3">
																						<fieldset>
																							<input type="radio" checked="checked" asp-for="@Model[i].Id_Color" name="c+ @Model[i].Id_Product.ToString()" value="@Color.Id">
																							<label for="html">@Color.Name</label>

																						</fieldset>
																					</div>
																		}
																		else
																		{

																					<div class="col-3">
																						<fieldset>
																							<input type="radio" asp-for="@Model[i].Id_Color" name="c+@Model[i].Id_Product.ToString()" value="@Color.Id">
																							<label for="html">@Color.Name</label>
																						</fieldset>
																					</div>
																		}


																	}
																		</div>
																		<div class="row">
																			<p>Size</p>

																			@foreach (var size in ViewBag.Size)
																	{

																		if (size.Id == Model[i].Id_Size)
																		{

																					<div class="col-3">
																						<fieldset>
																							<input type="radio" checked="checked" asp-for="@Model[i].Id_Size" name="s+@Model[i].Id_Product.ToString()" value="@size.Id">
																							<label for="html">@size.Name</label>

																						</fieldset>
																					</div>
																		}
																		else
																		{

																					<div class="col-3">
																						<fieldset>
																							<input type="radio" asp-for="@Model[i].Id_Size" name="s+@Model[i].Id_Product.ToString()" value="@size.Id">
																							<label for="html">@size.Name</label>
																						</fieldset>
																					</div>
																		}
																	}
																		</div>
																		<button type="button" class="btn btn-primary btn-sm me-1 mb-2" data-mdb-toggle="tooltip" title="Remove item">
																			X
																		</button>

																		<!-- Data -->
																	</div>
																	<div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
																		<!-- Quantity -->
																		<div class="d-flex mb-4" style="max-width: 300px">
																	

																			<div class="form-outline">
																				<input id="quantity" min="0" name="quantity"  oninput="tt(@Model[i].Price)" value="1" type="number" class="form-control" />
																				<label class="form-label" for="form1">Quantity</label>
																			</div>

																	
																		</div>
																		<!-- Quantity -->
																		<!-- Price -->
																<div class="input-group mb-3">
																	<span class="input-group-text">Price</span>															
																	<span class="input-group-text">$</span>															
																	<input readonly type="number" id="thanhtien" value="@Model[i].Price" class="form-control" aria-label="Dollar amount (with dot and two decimal places)">
																</div>
																		<!-- Price -->
																	</div>
																	<hr class="my-4" />
																</div>
													}
												}
											}
										}
									}
								}
							</div>
						</div>
						<div class="card mb-4">
							<div class="card-body">
								<p><strong>Expected shipping delivery</strong></p>
								<p class="mb-0">12.10.2020 - 14.10.2020</p>
							</div>
						</div>
						<div class="card mb-4 mb-lg-0">
							<div class="card-body">
								<p><strong>We accept</strong></p>
								<img class="me-2" width="45px"
								 src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/visa.svg"
								 alt="Visa" />
								<img class="me-2" width="45px"
								 src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/amex.svg"
								 alt="American Express" />
								<img class="me-2" width="45px"
								 src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/mastercard.svg"
								 alt="Mastercard" />

							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card mb-4">
							<div class="card-header py-3">
								<h5 class="mb-0">Summary</h5>
							</div>
							<div class="card-body">
								<ul class="list-group list-group-flush">
									<li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
										Products
										<span>$53.98</span>
									</li>
									<li class="list-group-item d-flex justify-content-between align-items-center px-0">
										Shipping
										<span>Gratis</span>
									</li>
									<li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
										<div>
											<strong>Total amount</strong>
											<strong>
												<p class="mb-0">(including VAT)</p>
											</strong>
										</div>
										<span><strong>$53.98</strong></span>
									</li>
								</ul>

								<button type="submit" value="submit" class="btn btn-primary btn-lg btn-block">
									Go to checkout
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		}
	</section>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
	<script src="~/js/jquery.min.js"></script>
	<script src="~/js/popper.min.js"></script>
	<script src="~/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/jquery-3.0.0.min.js"></script>
	<!-- sidebar -->
	<script src="~/js/jquery.mCustomScrollbar.concat.min.js"></script>
	<script src="~/js/custom.js"></script>
	<script>

		//document.getElementById("quantity").oninput = function () {
		//	document.getElementById("thanhtien").value = document.getElementById("quantity").value * 5
		//}
		function tt(price){
			document.getElementById("thanhtien").value = document.getElementById("quantity").value * price

		}
		

	</script>
</body>
</html>
